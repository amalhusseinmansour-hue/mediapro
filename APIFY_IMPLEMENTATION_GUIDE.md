# ğŸš€ Ø¯Ù„ÙŠÙ„ Apify - Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙŠ Ø­Ø³Ø§Ø¨ Ø³ÙˆØ´Ø§Ù„ Ù…ÙŠØ¯ÙŠØ§

## ğŸ¯ Ù…Ø§ Ù‡Ùˆ ApifyØŸ

**Apify** Ù‡ÙŠ Ù…Ù†ØµØ© Ù‚ÙˆÙŠØ© Ù„Ù€ web scraping ÙˆØ§Ù„Ù€ automation ØªØ³Ù…Ø­ Ù„Ùƒ Ø¨Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Ø£ÙŠ Ù…ÙˆÙ‚Ø¹ Ø¨Ø¯ÙˆÙ† Ø§Ù„Ø­Ø§Ø¬Ø© Ù„Ù€ OAuth.

### âœ… Ø§Ù„Ù…Ø²Ø§ÙŠØ§ Ø§Ù„Ø±Ù‡ÙŠØ¨Ø©:

```
âœ… Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø£ÙŠ Ø­Ø³Ø§Ø¨ (Ø­ØªÙ‰ Ø¨Ø¯ÙˆÙ† OAuth)
âœ… Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ† ÙƒØ§Ù…Ù„Ø©
âœ… Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ÙØµÙ„Ø© ÙˆØªØ§Ø±ÙŠØ®ÙŠØ©
âœ… Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù‡Ø§Ø´ØªØ§Ù‚Ø§Øª ÙˆØ§Ù„ØªØ±Ù†Ø¯Ø§Øª
âœ… Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹ ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚
âœ… Ù„Ø§ Ø­Ø§Ø¬Ø© Ù„Ø±Ø¨Ø· Ø§Ù„Ø­Ø³Ø§Ø¨
```

### âŒ Ø§Ù„Ù‚ÙŠÙˆØ¯:

```
âŒ Ù„Ø§ ÙŠÙ…ÙƒÙ† Ø§Ù„Ù†Ø´Ø± (scraping ÙÙ‚Ø· Ù„Ù„Ù‚Ø±Ø§Ø¡Ø©)
âŒ ÙŠØ­ØªØ§Ø¬ Ø§Ø´ØªØ±Ø§Ùƒ Apify ($49/Ø´Ù‡Ø± Ù„Ù„Ø¨Ø¯Ø§ÙŠØ©)
âŒ Ù‚Ø¯ ÙŠØ®Ø§Ù„Ù Terms of Service Ù„Ø¨Ø¹Ø¶ Ø§Ù„Ù…Ù†ØµØ§Øª
âŒ Ø£Ø¨Ø·Ø£ Ù…Ù† OAuth (ÙŠØ­ØªØ§Ø¬ 10-30 Ø«Ø§Ù†ÙŠØ© Ù„ÙƒÙ„ scrape)
```

---

## ğŸ’° Ø§Ù„Ø£Ø³Ø¹Ø§Ø±

### Free Plan (Ù„Ù„ØªØ¬Ø±Ø¨Ø©):
```
âœ… $5 free credits Ø´Ù‡Ø±ÙŠØ§Ù‹
âœ… Ø­ÙˆØ§Ù„ÙŠ 50-100 profile scrapes
âœ… Ù…Ø«Ø§Ù„ÙŠ Ù„Ù„Ø§Ø®ØªØ¨Ø§Ø±
```

### Starter Plan ($49/Ø´Ù‡Ø±):
```
âœ… $49 Ù…Ù† Credits
âœ… ~500-1000 profile scrapes
âœ… Ù…Ù†Ø§Ø³Ø¨ Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„ØµØºÙŠØ±Ø©
```

### Team Plan ($149/Ø´Ù‡Ø±):
```
âœ… $149 Ù…Ù† Credits
âœ… ~1500-3000 profile scrapes
âœ… Ù„Ù„ØªØ·Ø¨ÙŠÙ‚Ø§Øª Ø§Ù„Ù…ØªÙˆØ³Ø·Ø©
```

**ğŸ’¡ Ù†ØµÙŠØ­Ø©:** Ø§Ø¨Ø¯Ø£ Ø¨Ù€ Free Plan Ù„Ù„ØªØ¬Ø±Ø¨Ø©!

---

## ğŸš€ Ø®Ø·ÙˆØ§Øª Ø§Ù„Ø¨Ø¯Ø¡ Ø§Ù„Ø³Ø±ÙŠØ¹

### Ø§Ù„Ø®Ø·ÙˆØ© 1: Ø§Ù„ØªØ³Ø¬ÙŠÙ„ ÙÙŠ Apify (5 Ø¯Ù‚Ø§Ø¦Ù‚)

1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://apify.com
2. Ø§Ø¶ØºØ· **"Sign Up"**
3. Ø³Ø¬Ù„ Ø¨Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ Ø£Ùˆ Google
4. Ø³ØªØ­ØµÙ„ Ø¹Ù„Ù‰ **$5 free credits** ğŸ‰

### Ø§Ù„Ø®Ø·ÙˆØ© 2: Ø§Ù„Ø­ØµÙˆÙ„ Ø¹Ù„Ù‰ API Token (2 Ø¯Ù‚ÙŠÙ‚Ø©)

1. Ø§Ø°Ù‡Ø¨ Ø¥Ù„Ù‰: https://console.apify.com/account/integrations
2. Ø§Ù†Ø³Ø® **Personal API Token**
3. Ø§Ø­ÙØ¸Ù‡ ÙÙŠ Ù…ÙƒØ§Ù† Ø¢Ù…Ù†

### Ø§Ù„Ø®Ø·ÙˆØ© 3: Ø¥Ø¶Ø§ÙØ© Token ÙÙŠ Ø§Ù„ØªØ·Ø¨ÙŠÙ‚

```dart
// ÙÙŠ lib/services/apify_service.dart
static const String _apiToken = 'apify_api_YOUR_TOKEN_HERE';
```

### Ø§Ù„Ø®Ø·ÙˆØ© 4: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø³ÙŠØ±ÙØ³

```dart
// ÙÙŠ main.dart
void main() async {
  WidgetsFlutterBinding.ensureInitialized();

  // Initialize Hive for local storage
  await Hive.initFlutter();

  // Register Apify service
  Get.put(ApifyService());

  runApp(MyApp());
}
```

---

## ğŸ“– Ø£Ù…Ø«Ù„Ø© Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…

### Ù…Ø«Ø§Ù„ 1: Ø¬Ù„Ø¨ Ù…Ù„Ù Instagram

```dart
import 'package:get/get.dart';
import '../services/apify_service.dart';

class ProfileAnalyzerScreen extends StatefulWidget {
  @override
  _ProfileAnalyzerScreenState createState() => _ProfileAnalyzerScreenState();
}

class _ProfileAnalyzerScreenState extends State<ProfileAnalyzerScreen> {
  final ApifyService _apify = Get.find<ApifyService>();
  final TextEditingController _usernameController = TextEditingController();

  InstagramProfileFull? _profile;
  bool _isLoading = false;

  Future<void> _fetchProfile() async {
    setState(() => _isLoading = true);

    final username = _usernameController.text.trim();

    // Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù„Ù Ù…Ù† Apify (Ø³ÙŠØªÙ… Ø­ÙØ¸Ù‡ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹)
    final profile = await _apify.scrapeInstagramProfile(
      username,
      maxPosts: 50,
      saveLocally: true, // ğŸ’¾ Ø­ÙØ¸ Ù…Ø­Ù„ÙŠØ§Ù‹
    );

    setState(() {
      _profile = profile;
      _isLoading = false;
    });

    if (profile != null) {
      Get.snackbar(
        'Ù†Ø¬Ø­! âœ…',
        'ØªÙ… Ø¬Ù„Ø¨ Ù…Ù„Ù $username Ø¨Ù†Ø¬Ø§Ø­',
        snackPosition: SnackPosition.BOTTOM,
      );
    }
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Ù…Ø­Ù„Ù„ Ø§Ù„Ù…Ù„ÙØ§Øª Ø§Ù„Ø´Ø®ØµÙŠØ©')),
      body: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          children: [
            // Ø­Ù‚Ù„ Ø¥Ø¯Ø®Ø§Ù„ Username
            TextField(
              controller: _usernameController,
              decoration: InputDecoration(
                labelText: 'Username (Ø¨Ø¯ÙˆÙ† @)',
                hintText: 'nike',
                prefixIcon: Icon(Icons.person),
              ),
            ),

            SizedBox(height: 16),

            // Ø²Ø± Ø§Ù„Ø¬Ù„Ø¨
            ElevatedButton.icon(
              onPressed: _isLoading ? null : _fetchProfile,
              icon: Icon(Icons.download),
              label: _isLoading
                ? Text('Ø¬Ø§Ø±ÙŠ Ø§Ù„Ø¬Ù„Ø¨...')
                : Text('Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª'),
            ),

            SizedBox(height: 32),

            // Ø¹Ø±Ø¶ Ø§Ù„Ù†ØªØ§Ø¦Ø¬
            if (_profile != null) ...[
              Card(
                child: Padding(
                  padding: EdgeInsets.all(16),
                  child: Column(
                    crossAxisAlignment: CrossAxisAlignment.start,
                    children: [
                      // Ø§Ù„ØµÙˆØ±Ø© Ø§Ù„Ø´Ø®ØµÙŠØ©
                      Center(
                        child: CircleAvatar(
                          radius: 50,
                          backgroundImage: _profile!.profilePicUrl != null
                            ? NetworkImage(_profile!.profilePicUrl!)
                            : null,
                          child: _profile!.profilePicUrl == null
                            ? Icon(Icons.person, size: 50)
                            : null,
                        ),
                      ),

                      SizedBox(height: 16),

                      // Ø§Ù„Ø§Ø³Ù…
                      Text(
                        _profile!.fullName,
                        style: TextStyle(
                          fontSize: 24,
                          fontWeight: FontWeight.bold,
                        ),
                      ),

                      // Username
                      Text(
                        '@${_profile!.username}',
                        style: TextStyle(
                          fontSize: 16,
                          color: Colors.grey[600],
                        ),
                      ),

                      SizedBox(height: 16),

                      // Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª
                      Row(
                        mainAxisAlignment: MainAxisAlignment.spaceAround,
                        children: [
                          _buildStat('Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª', _profile!.postsCount),
                          _buildStat('Ø§Ù„Ù…ØªØ§Ø¨Ø¹ÙˆÙ†', _profile!.followers),
                          _buildStat('ÙŠØªØ§Ø¨Ø¹', _profile!.following),
                        ],
                      ),

                      SizedBox(height: 16),

                      // Bio
                      Text(
                        _profile!.bio,
                        style: TextStyle(fontSize: 14),
                      ),

                      SizedBox(height: 16),

                      // Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„
                      Container(
                        padding: EdgeInsets.all(12),
                        decoration: BoxDecoration(
                          color: Colors.green[50],
                          borderRadius: BorderRadius.circular(8),
                        ),
                        child: Row(
                          children: [
                            Icon(Icons.trending_up, color: Colors.green),
                            SizedBox(width: 8),
                            Text(
                              'Ù…Ø¹Ø¯Ù„ Ø§Ù„ØªÙØ§Ø¹Ù„: ${_profile!.engagementRate.toStringAsFixed(2)}%',
                              style: TextStyle(
                                fontWeight: FontWeight.bold,
                                color: Colors.green[900],
                              ),
                            ),
                          ],
                        ),
                      ),

                      SizedBox(height: 16),

                      // Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø©
                      Text(
                        'Ø§Ù„Ù…Ù†Ø´ÙˆØ±Ø§Øª Ø§Ù„Ø£Ø®ÙŠØ±Ø© (${_profile!.latestPosts.length})',
                        style: TextStyle(
                          fontSize: 18,
                          fontWeight: FontWeight.bold,
                        ),
                      ),

                      SizedBox(height: 8),

                      SizedBox(
                        height: 100,
                        child: ListView.builder(
                          scrollDirection: Axis.horizontal,
                          itemCount: _profile!.latestPosts.length,
                          itemBuilder: (context, index) {
                            final post = _profile!.latestPosts[index];
                            return Padding(
                              padding: EdgeInsets.only(right: 8),
                              child: Column(
                                children: [
                                  Container(
                                    width: 80,
                                    height: 80,
                                    decoration: BoxDecoration(
                                      borderRadius: BorderRadius.circular(8),
                                      image: post.imageUrl != null
                                        ? DecorationImage(
                                            image: NetworkImage(post.imageUrl!),
                                            fit: BoxFit.cover,
                                          )
                                        : null,
                                    ),
                                    child: post.imageUrl == null
                                      ? Icon(Icons.image)
                                      : null,
                                  ),
                                  SizedBox(height: 4),
                                  Text(
                                    'â¤ï¸ ${post.likesCount}',
                                    style: TextStyle(fontSize: 10),
                                  ),
                                ],
                              ),
                            );
                          },
                        ),
                      ),
                    ],
                  ),
                ),
              ),
            ],

            // Loading indicator
            if (_isLoading)
              Column(
                children: [
                  CircularProgressIndicator(),
                  SizedBox(height: 16),
                  Text('Ø¬Ø§Ø±ÙŠ Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ù† Instagram...'),
                  Text(
                    'Ù‚Ø¯ ÙŠØ³ØªØºØ±Ù‚ 10-30 Ø«Ø§Ù†ÙŠØ©',
                    style: TextStyle(fontSize: 12, color: Colors.grey),
                  ),
                ],
              ),
          ],
        ),
      ),
    );
  }

  Widget _buildStat(String label, int value) {
    return Column(
      children: [
        Text(
          value >= 1000
            ? '${(value / 1000).toStringAsFixed(1)}K'
            : value.toString(),
          style: TextStyle(
            fontSize: 20,
            fontWeight: FontWeight.bold,
          ),
        ),
        Text(
          label,
          style: TextStyle(
            fontSize: 12,
            color: Colors.grey[600],
          ),
        ),
      ],
    );
  }
}
```

---

### Ù…Ø«Ø§Ù„ 2: Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø© Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©

```dart
class BulkAccountScraperScreen extends StatefulWidget {
  @override
  _BulkAccountScraperScreenState createState() => _BulkAccountScraperScreenState();
}

class _BulkAccountScraperScreenState extends State<BulkAccountScraperScreen> {
  final ApifyService _apify = Get.find<ApifyService>();

  List<Map<String, String>> _accountsToScrape = [
    {'platform': 'instagram', 'username': 'nike'},
    {'platform': 'instagram', 'username': 'adidas'},
    {'platform': 'instagram', 'username': 'puma'},
    {'platform': 'twitter', 'username': 'elonmusk'},
    {'platform': 'tiktok', 'username': 'charlidamelio'},
  ];

  List<Map<String, dynamic>> _results = [];
  bool _isLoading = false;
  int _currentProgress = 0;
  int _totalAccounts = 0;

  Future<void> _scrapeAll() async {
    setState(() {
      _isLoading = true;
      _currentProgress = 0;
      _totalAccounts = _accountsToScrape.length;
      _results = [];
    });

    final results = await _apify.scrapeMultipleAccounts(
      accounts: _accountsToScrape,
      onProgress: (current, total) {
        setState(() {
          _currentProgress = current;
          _totalAccounts = total;
        });
      },
    );

    setState(() {
      _results = results;
      _isLoading = false;
    });

    final successful = results.where((r) => r['success'] == true).length;

    Get.snackbar(
      'Ø§ÙƒØªÙ…Ù„! âœ…',
      'ØªÙ… Ø¬Ù„Ø¨ $successful Ù…Ù† ${results.length} Ø­Ø³Ø§Ø¨',
      snackPosition: SnackPosition.BOTTOM,
    );
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(title: Text('Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ù…ØªØ¹Ø¯Ø¯Ø©')),
      body: Padding(
        padding: EdgeInsets.all(16),
        child: Column(
          children: [
            // Ù‚Ø§Ø¦Ù…Ø© Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª
            Text(
              'Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø·Ù„ÙˆØ¨Ø© (${_accountsToScrape.length})',
              style: TextStyle(fontSize: 18, fontWeight: FontWeight.bold),
            ),

            SizedBox(height: 16),

            Expanded(
              child: ListView.builder(
                itemCount: _accountsToScrape.length,
                itemBuilder: (context, index) {
                  final account = _accountsToScrape[index];
                  final result = _results.length > index ? _results[index] : null;

                  return Card(
                    child: ListTile(
                      leading: Icon(
                        _getPlatformIcon(account['platform']!),
                        color: _getPlatformColor(account['platform']!),
                      ),
                      title: Text('@${account['username']}'),
                      subtitle: Text(account['platform']!.toUpperCase()),
                      trailing: result != null
                        ? Icon(
                            result['success'] ? Icons.check_circle : Icons.error,
                            color: result['success'] ? Colors.green : Colors.red,
                          )
                        : (_isLoading && index < _currentProgress)
                          ? CircularProgressIndicator()
                          : null,
                    ),
                  );
                },
              ),
            ),

            SizedBox(height: 16),

            // Progress
            if (_isLoading)
              Column(
                children: [
                  LinearProgressIndicator(
                    value: _totalAccounts > 0
                      ? _currentProgress / _totalAccounts
                      : 0,
                  ),
                  SizedBox(height: 8),
                  Text('Ø¬Ø§Ø±ÙŠ Ø§Ù„Ù…Ø¹Ø§Ù„Ø¬Ø©: $_currentProgress / $_totalAccounts'),
                ],
              ),

            SizedBox(height: 16),

            // Ø²Ø± Ø§Ù„Ø¨Ø¯Ø¡
            ElevatedButton.icon(
              onPressed: _isLoading ? null : _scrapeAll,
              icon: Icon(Icons.play_arrow),
              label: Text('Ø¬Ù„Ø¨ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª'),
              style: ElevatedButton.styleFrom(
                minimumSize: Size(double.infinity, 50),
              ),
            ),
          ],
        ),
      ),
    );
  }

  IconData _getPlatformIcon(String platform) {
    switch (platform.toLowerCase()) {
      case 'instagram': return Icons.camera_alt;
      case 'twitter': return Icons.comment;
      case 'tiktok': return Icons.music_note;
      case 'facebook': return Icons.facebook;
      default: return Icons.public;
    }
  }

  Color _getPlatformColor(String platform) {
    switch (platform.toLowerCase()) {
      case 'instagram': return Color(0xFFE4405F);
      case 'twitter': return Color(0xFF1DA1F2);
      case 'tiktok': return Colors.black;
      case 'facebook': return Color(0xFF1877F2);
      default: return Colors.grey;
    }
  }
}
```

---

### Ù…Ø«Ø§Ù„ 3: Ø¹Ø±Ø¶ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø© Ù…Ø­Ù„ÙŠØ§Ù‹

```dart
class LocalAccountsScreen extends StatefulWidget {
  @override
  _LocalAccountsScreenState createState() => _LocalAccountsScreenState();
}

class _LocalAccountsScreenState extends State<LocalAccountsScreen> {
  final ApifyService _apify = Get.find<ApifyService>();
  String _selectedPlatform = 'instagram';
  List<Map<String, dynamic>> _localAccounts = [];

  @override
  void initState() {
    super.initState();
    _loadLocalAccounts();
  }

  void _loadLocalAccounts() {
    final accounts = _apify.getLocalAccountsByPlatform(_selectedPlatform);
    setState(() {
      _localAccounts = accounts;
    });
  }

  @override
  Widget build(BuildContext context) {
    return Scaffold(
      appBar: AppBar(
        title: Text('Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø­ÙÙˆØ¸Ø©'),
        actions: [
          IconButton(
            icon: Icon(Icons.delete_sweep),
            onPressed: () async {
              await _apify.clearAllLocalData();
              _loadLocalAccounts();
              Get.snackbar('ØªÙ…!', 'ØªÙ… Ø­Ø°Ù Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ©');
            },
          ),
        ],
      ),
      body: Column(
        children: [
          // Platform selector
          Padding(
            padding: EdgeInsets.all(16),
            child: DropdownButton<String>(
              value: _selectedPlatform,
              isExpanded: true,
              items: ['instagram', 'twitter', 'tiktok', 'facebook']
                .map((platform) => DropdownMenuItem(
                  value: platform,
                  child: Text(platform.toUpperCase()),
                ))
                .toList(),
              onChanged: (value) {
                setState(() {
                  _selectedPlatform = value!;
                });
                _loadLocalAccounts();
              },
            ),
          ),

          // Accounts list
          Expanded(
            child: _localAccounts.isEmpty
              ? Center(
                  child: Text('Ù„Ø§ ØªÙˆØ¬Ø¯ Ø­Ø³Ø§Ø¨Ø§Øª Ù…Ø­ÙÙˆØ¸Ø© Ù„Ù€ $_selectedPlatform'),
                )
              : ListView.builder(
                  itemCount: _localAccounts.length,
                  itemBuilder: (context, index) {
                    final account = _localAccounts[index];
                    final data = account['data'];

                    return Card(
                      margin: EdgeInsets.symmetric(horizontal: 16, vertical: 8),
                      child: ListTile(
                        leading: CircleAvatar(
                          backgroundImage: data['profilePicUrl'] != null
                            ? NetworkImage(data['profilePicUrl'])
                            : null,
                          child: data['profilePicUrl'] == null
                            ? Icon(Icons.person)
                            : null,
                        ),
                        title: Text(data['fullName'] ?? data['username']),
                        subtitle: Column(
                          crossAxisAlignment: CrossAxisAlignment.start,
                          children: [
                            Text('@${account['username']}'),
                            Text(
                              'Followers: ${data['followersCount'] ?? data['followers'] ?? 0}',
                              style: TextStyle(fontSize: 12),
                            ),
                            Text(
                              'Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«: ${_formatDate(account['lastUpdated'])}',
                              style: TextStyle(fontSize: 10, color: Colors.grey),
                            ),
                          ],
                        ),
                        trailing: IconButton(
                          icon: Icon(Icons.delete, color: Colors.red),
                          onPressed: () async {
                            await _apify.deleteLocalAccountData(
                              platform: _selectedPlatform,
                              username: account['username'],
                            );
                            _loadLocalAccounts();
                          },
                        ),
                      ),
                    );
                  },
                ),
          ),
        ],
      ),
    );
  }

  String _formatDate(String? dateStr) {
    if (dateStr == null) return 'ØºÙŠØ± Ù…Ø¹Ø±ÙˆÙ';
    final date = DateTime.parse(dateStr);
    final now = DateTime.now();
    final diff = now.difference(date);

    if (diff.inMinutes < 60) return 'Ù…Ù†Ø° ${diff.inMinutes} Ø¯Ù‚ÙŠÙ‚Ø©';
    if (diff.inHours < 24) return 'Ù…Ù†Ø° ${diff.inHours} Ø³Ø§Ø¹Ø©';
    return 'Ù…Ù†Ø° ${diff.inDays} ÙŠÙˆÙ…';
  }
}
```

---

## ğŸ”„ Ø§Ù„Ø¯Ù…Ø¬ Ù…Ø¹ OAuth

### Ø§Ù„Ø­Ù„ Ø§Ù„Ù‡Ø¬ÙŠÙ† Ø§Ù„Ù…Ø«Ø§Ù„ÙŠ:

```dart
class HybridSocialMediaService extends GetxController {
  final ApifyService _apify = Get.find<ApifyService>();
  final SocialAccountsService _oauth = Get.find<SocialAccountsService>();

  /// Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø¨ - ÙŠØ³ØªØ®Ø¯Ù… OAuth Ø¥Ø°Ø§ Ù…ØªØµÙ„ØŒ ÙˆØ¥Ù„Ø§ Apify
  Future<dynamic> getAccountData({
    required String platform,
    required String username,
  }) async {
    // ØªØ­Ù‚Ù‚ Ø¥Ø°Ø§ Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø±Ø¨Ø· Ø­Ø³Ø§Ø¨Ù‡ Ø¨Ù€ OAuth
    final connectedAccount = _oauth.getConnectedAccount(platform, username);

    if (connectedAccount != null) {
      // âœ… Ø§Ø³ØªØ®Ø¯Ù… OAuth API (Ø£Ø³Ø±Ø¹ ÙˆØ£Ø¯Ù‚)
      print('ğŸ“¡ Using OAuth for $username');
      return await _fetchViaOAuth(platform, username);
    } else {
      // âœ… Ø§Ø³ØªØ®Ø¯Ù… Apify (Ø¨Ø¯ÙˆÙ† OAuth)
      print('ğŸ•·ï¸ Using Apify for $username');
      return await _apify.scrapeAccount(
        platform: platform,
        username: username,
      );
    }
  }

  /// Ø§Ù„Ù†Ø´Ø± - ÙŠØªØ·Ù„Ø¨ OAuth Ø¯Ø§Ø¦Ù…Ø§Ù‹
  Future<bool> postContent({
    required String platform,
    required String content,
  }) async {
    final account = _oauth.getConnectedAccount(platform, null);

    if (account == null) {
      Get.snackbar(
        'Ø®Ø·Ø£ âŒ',
        'ÙŠØ¬Ø¨ Ø±Ø¨Ø· Ø­Ø³Ø§Ø¨Ùƒ Ø£ÙˆÙ„Ø§Ù‹ Ù„Ù„Ù†Ø´Ø±',
        snackPosition: SnackPosition.BOTTOM,
      );
      return false;
    }

    // Ø§Ù„Ù†Ø´Ø± Ø¹Ø¨Ø± OAuth ÙÙ‚Ø·
    return await _oauth.post(platform: platform, content: content);
  }

  Future<dynamic> _fetchViaOAuth(String platform, String username) async {
    // Ù…Ù†Ø·Ù‚ OAuth...
    return {};
  }
}
```

### Ù…ØªÙ‰ ØªØ³ØªØ®Ø¯Ù… OAuth vs ApifyØŸ

| Ø§Ù„Ù…ÙŠØ²Ø© | OAuth | Apify |
|--------|-------|-------|
| **Ø§Ù„Ù†Ø´Ø±** | âœ… Ù†Ø¹Ù… | âŒ Ù„Ø§ |
| **Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø¨Ùƒ** | âœ… Ø£Ø³Ø±Ø¹ | âœ… ÙŠØ¹Ù…Ù„ |
| **Ø¬Ù„Ø¨ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ†** | âŒ Ù„Ø§ | âœ… Ù†Ø¹Ù… |
| **Ø§Ù„Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ø§Ù„ØªÙØµÙŠÙ„ÙŠØ©** | âœ… Ù…Ø­Ø¯ÙˆØ¯Ø© | âœ… Ø´Ø§Ù…Ù„Ø© |
| **Ø§Ù„ØªÙƒÙ„ÙØ©** | ğŸ†“ Ù…Ø¬Ø§Ù†ÙŠ | ğŸ’° $49+/Ø´Ù‡Ø± |
| **Ø§Ù„Ø³Ø±Ø¹Ø©** | âš¡ ÙÙˆØ±ÙŠ | ğŸŒ 10-30 Ø«Ø§Ù†ÙŠØ© |

**ğŸ’¡ Ø§Ù„ØªÙˆØµÙŠØ©:**
```
OAuth â†’ Ù„Ù„Ù†Ø´Ø± ÙˆØ§Ù„ØªÙØ§Ø¹Ù„ (Ø­Ø³Ø§Ø¨Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù…)
Apify â†’ Ù„Ù„ØªØ­Ù„ÙŠÙ„Ø§Øª ÙˆØ§Ù„Ù…Ù†Ø§ÙØ³ÙŠÙ† (Ø¨Ø¯ÙˆÙ† Ø±Ø¨Ø·)
```

---

## ğŸ“Š Ø­Ø³Ø§Ø¨ Ø§Ù„ØªÙƒÙ„ÙØ©

```dart
// Ù…Ø«Ø§Ù„: ÙƒÙ… ØªÙƒÙ„ÙØ© Ø¬Ù„Ø¨ 100 Ø­Ø³Ø§Ø¨ InstagramØŸ
final cost = _apify.estimateCost(
  platform: 'instagram',
  accounts: 100,
  contentPerAccount: 50,
);

print('Ø§Ù„ØªÙƒÙ„ÙØ© Ø§Ù„ØªÙ‚Ø¯ÙŠØ±ÙŠØ©: \$$cost'); // ~$1.00
```

### ØªÙ‚Ø¯ÙŠØ± Ø§Ù„ØªÙƒØ§Ù„ÙŠÙ:

- **Instagram profile:** ~$0.01 Ù„ÙƒÙ„ Ø­Ø³Ø§Ø¨
- **Twitter profile:** ~$0.40 Ù„ÙƒÙ„ 1000 ØªØºØ±ÙŠØ¯Ø©
- **TikTok profile:** ~$0.02 Ù„ÙƒÙ„ Ø­Ø³Ø§Ø¨
- **Facebook page:** ~$0.015 Ù„ÙƒÙ„ ØµÙØ­Ø©

**Ù…Ø«Ø§Ù„ ÙˆØ§Ù‚Ø¹ÙŠ:**
- 50 Ø­Ø³Ø§Ø¨ Instagram/Ø´Ù‡Ø± = ~$0.50
- 20 Ø­Ø³Ø§Ø¨ TikTok/Ø´Ù‡Ø± = ~$0.40
- 30 Ø­Ø³Ø§Ø¨ Twitter/Ø´Ù‡Ø± = ~$0.50

**Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: ~$1.40/Ø´Ù‡Ø±** (ÙŠÙ…ÙƒÙ† Ø§Ø³ØªØ®Ø¯Ø§Ù… Free Plan!)

---

## âš¡ ØªØ­Ø³ÙŠÙ† Ø§Ù„Ø£Ø¯Ø§Ø¡

### 1. Caching Ø§Ù„Ø°ÙƒÙŠ

```dart
Future<InstagramProfileFull?> getInstagramProfile(String username) async {
  // ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø­Ù„ÙŠØ© Ø£ÙˆÙ„Ø§Ù‹
  final cached = _apify.getLocalAccountData(
    platform: 'instagram',
    username: username,
  );

  if (cached != null) {
    final lastUpdated = DateTime.parse(cached['lastUpdated']);
    final hoursSinceUpdate = DateTime.now().difference(lastUpdated).inHours;

    // Ø¥Ø°Ø§ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø£Ø­Ø¯Ø« Ù…Ù† 24 Ø³Ø§Ø¹Ø©ØŒ Ø§Ø³ØªØ®Ø¯Ù…Ù‡Ø§
    if (hoursSinceUpdate < 24) {
      print('ğŸ’¾ Using cached data');
      return InstagramProfileFull.fromApify(cached['data']);
    }
  }

  // ÙˆØ¥Ù„Ø§ØŒ Ø¬Ù„Ø¨ Ø¬Ø¯ÙŠØ¯
  print('ğŸŒ Fetching fresh data');
  return await _apify.scrapeInstagramProfile(username);
}
```

### 2. Background Processing

```dart
// Ø¬Ù„Ø¨ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª ÙÙŠ Ø§Ù„Ø®Ù„ÙÙŠØ© Ø¨Ø¯ÙˆÙ† ØªØ¹Ø·ÙŠÙ„ UI
void fetchInBackground(String username) {
  compute(_fetchProfile, username).then((profile) {
    // ØªØ­Ø¯ÙŠØ« UI Ø¨Ø¹Ø¯ Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡
    setState(() {
      _profile = profile;
    });
  });
}

static Future<InstagramProfileFull?> _fetchProfile(String username) async {
  final apify = Get.find<ApifyService>();
  return await apify.scrapeInstagramProfile(username);
}
```

### 3. Batch Processing Ø§Ù„Ø°ÙƒÙŠ

```dart
// Ù…Ø¹Ø§Ù„Ø¬Ø© Ø¯ÙØ¹Ø§Øª ØµØºÙŠØ±Ø© Ù„ØªØ¬Ù†Ø¨ timeout
Future<void> scrapeLargeList(List<String> usernames) async {
  const batchSize = 5;

  for (int i = 0; i < usernames.length; i += batchSize) {
    final batch = usernames.skip(i).take(batchSize).toList();

    await Future.wait(
      batch.map((username) => _apify.scrapeInstagramProfile(username))
    );

    // Ø±Ø§Ø­Ø© Ø¨ÙŠÙ† Ø§Ù„Ø¯ÙØ¹Ø§Øª
    if (i + batchSize < usernames.length) {
      await Future.delayed(Duration(seconds: 5));
    }
  }
}
```

---

## ğŸ¯ Ø£ÙØ¶Ù„ Ø§Ù„Ù…Ù…Ø§Ø±Ø³Ø§Øª

### âœ… Ø§ÙØ¹Ù„:

```
âœ… Ø§Ø­ÙØ¸ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø­Ù„ÙŠØ§Ù‹ (Hive)
âœ… Ø§Ø³ØªØ®Ø¯Ù… caching Ù„Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…ÙƒØ±Ø±Ø©
âœ… Ø£Ø¶Ù ØªØ£Ø®ÙŠØ± Ø¨ÙŠÙ† Ø§Ù„Ø·Ù„Ø¨Ø§Øª (3-5 Ø«ÙˆØ§Ù†)
âœ… Ø§Ø³ØªØ®Ø¯Ù… OAuth Ù„Ù„Ù†Ø´Ø± Ø¯Ø§Ø¦Ù…Ø§Ù‹
âœ… Ø±Ø§Ù‚Ø¨ Ø§Ø³ØªÙ‡Ù„Ø§Ùƒ Credits
âœ… Ø¹Ø§Ù„Ø¬ Ø§Ù„Ø£Ø®Ø·Ø§Ø¡ Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­
```

### âŒ Ù„Ø§ ØªÙØ¹Ù„:

```
âŒ ØªØ¬Ù„Ø¨ Ù†ÙØ³ Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª Ù…Ø±ØªÙŠÙ† ÙÙŠ ÙŠÙˆÙ… ÙˆØ§Ø­Ø¯
âŒ ØªØ±Ø³Ù„ Ø·Ù„Ø¨Ø§Øª ÙƒØ«ÙŠØ±Ø© Ø¯ÙØ¹Ø© ÙˆØ§Ø­Ø¯Ø©
âŒ ØªØ­Ø§ÙˆÙ„ Ø§Ù„Ù†Ø´Ø± Ø¹Ø¨Ø± Apify
âŒ ØªØ®Ø²Ù† Ø¨ÙŠØ§Ù†Ø§Øª Ø­Ø³Ø§Ø³Ø©
âŒ ØªØªØ¬Ø§ÙˆØ² Ø§Ù„Ù€ Rate Limits
```

---

## ğŸ†˜ Ø­Ù„ Ø§Ù„Ù…Ø´Ø§ÙƒÙ„

### Ù…Ø´ÙƒÙ„Ø©: "Actor timeout"
**Ø§Ù„Ø­Ù„:**
```dart
// Ø²Ø¯ Ø§Ù„Ù€ timeout
final runData = await _runActor(
  actorId: 'apify/instagram-scraper',
  input: input,
  timeout: Duration(minutes: 10), // Ø¨Ø¯Ù„Ø§Ù‹ Ù…Ù† 5
);
```

### Ù…Ø´ÙƒÙ„Ø©: "No credits remaining"
**Ø§Ù„Ø­Ù„:**
- Ø±Ø§Ø¬Ø¹ Ø§Ø³ØªÙ‡Ù„Ø§ÙƒÙƒ: https://console.apify.com/billing
- Ø§Ø´ØªØ±Ù credits Ø¥Ø¶Ø§ÙÙŠØ©
- Ø§Ø³ØªØ®Ø¯Ù… caching Ø£ÙƒØ«Ø±

### Ù…Ø´ÙƒÙ„Ø©: "Empty results"
**Ø§Ù„Ø­Ù„:**
```dart
// ØªØ­Ù‚Ù‚ Ù…Ù† Username ØµØ­ÙŠØ­
// Ø¨Ø¹Ø¶ Ø§Ù„Ø­Ø³Ø§Ø¨Ø§Øª Private Ù„Ø§ ØªØ¹Ø·ÙŠ Ø¨ÙŠØ§Ù†Ø§Øª
// Ø­Ø§ÙˆÙ„ Ù…Ø¹ Ø­Ø³Ø§Ø¨ Ø¹Ø§Ù… Ø£ÙˆÙ„Ø§Ù‹
```

---

## ğŸ“š Ù…ÙˆØ§Ø±Ø¯ Ø¥Ø¶Ø§ÙÙŠØ©

- **Apify Docs:** https://docs.apify.com
- **Actors Store:** https://apify.com/store
- **Pricing:** https://apify.com/pricing
- **API Reference:** https://docs.apify.com/api/v2

---

## âœ… Checklist Ù‚Ø¨Ù„ Ø§Ù„Ø¨Ø¯Ø¡

- [ ] Ø³Ø¬Ù„Øª ÙÙŠ Apify
- [ ] Ø­ØµÙ„Øª Ø¹Ù„Ù‰ API Token
- [ ] Ø£Ø¶ÙØª Token ÙÙŠ ApifyService
- [ ] Ø³Ø¬Ù„Øª Ø§Ù„Ø³ÙŠØ±ÙØ³ ÙÙŠ main.dart
- [ ] ÙÙ‡Ù…Øª Ø§Ù„ÙØ±Ù‚ Ø¨ÙŠÙ† OAuth Ùˆ Apify
- [ ] Ø­Ø¯Ø¯Øª Ø§Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…Ø§Øª Ø§Ù„Ù…Ù†Ø§Ø³Ø¨Ø© Ù„ÙƒÙ„ ÙˆØ§Ø­Ø¯
- [ ] Ø¬Ù‡Ø²Øª Hive Ù„Ù„ØªØ®Ø²ÙŠÙ† Ø§Ù„Ù…Ø­Ù„ÙŠ

---

**Ø¢Ø®Ø± ØªØ­Ø¯ÙŠØ«:** 2025-11-16
**Ø§Ù„Ø­Ø§Ù„Ø©:** âœ… Ø¬Ø§Ù‡Ø² Ù„Ù„Ø§Ø³ØªØ®Ø¯Ø§Ù…
**Ø§Ù„ØªÙƒÙ„ÙØ©:** $0-49/Ø´Ù‡Ø±

ğŸš€ **Ø§Ø¨Ø¯Ø£ Ø§Ù„Ø¢Ù† Ù…Ø¹ Free Plan!**
