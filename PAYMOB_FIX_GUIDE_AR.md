# ๐ง ุฏููู ุฅุตูุงุญ ูุดููุฉ Paymob - ุฎุทูุฉ ุจุฎุทูุฉ

## ๐ฏ ุงููุดููุฉ ุงูุญุงููุฉ

```
โ ูุดู ูู ุชุฌููุฒ ุงูุฏูุน
โ ูุดู ุงููุตุงุฏูุฉ ูุน Paymob
โ ุงูุฑุณุงูุฉ: {"detail":"incorrect credentials"}
```

---

## โ ุงูุญู ุงููุงูู (5 ุฏูุงุฆู)

### ุงูุฎุทูุฉ 1๏ธโฃ: ุชุณุฌูู ุงูุฏุฎูู ุฅูู Paymob

1. ุงูุชุญ ุงููุชุตูุญ ูุงุฐูุจ ุฅูู:
   ```
   https://accept.paymob.com/portal2/en/login
   ```

2. ุณุฌู ุงูุฏุฎูู ุจุญุณุงุจู

---

### ุงูุฎุทูุฉ 2๏ธโฃ: ุงุญุตู ุนูู API Key ุงูุฌุฏูุฏ

1. ุจุนุฏ ุชุณุฌูู ุงูุฏุฎููุ ุงุฐูุจ ุฅูู:
   ```
   Settings โ Account Info
   ```
   ุฃู
   ```
   Settings โ API Keys
   ```

2. **ุณุชุฌุฏ ุซูุงุซุฉ ููุงุชูุญ:**

   | ุงูููุชุงุญ | ุงูุงุณู ุงูุฅูุฌููุฒู | ูู ุชุญุชุงุฌูุ |
   |---------|-----------------|------------|
   | ๐ API Key | API Key | โ **ูุนู - ูุฐุง ุงููุทููุจ** |
   | ๐ Public Key | Public Key | โ๏ธ ุงุฎุชูุงุฑู |
   | ๐ Secret Key | Secret Key | โ๏ธ ููุจุงู ุฅูุฏ ููุท |

3. **ุงูุณุฎ ููุท API Key** (ุงูุณุทุฑ ุงูุฃูู)

4. ุฅุฐุง ูุงู ุงูููุชุงุญ ูุง ูุนููุ ุงุถุบุท ุฒุฑ **"Regenerate"** ููุญุตูู ุนูู ููุชุงุญ ุฌุฏูุฏ

---

### ุงูุฎุทูุฉ 3๏ธโฃ: ุงุญุตู ุนูู Integration ID

1. ูู ููุณ ููุญุฉ ุงูุชุญููุ ุงุฐูุจ ุฅูู:
   ```
   Payment Integrations โ All Integrations
   ```
   ุฃู
   ```
   https://accept.paymob.com/portal2/en/integrations
   ```

2. **ุณุชุฌุฏ ูุงุฆูุฉ ุจุทุฑู ุงูุฏูุน:**
   - Online Card (ุจุทุงูุงุช ุงูุงุฆุชูุงู) โ ุงุณุชุฎุฏู ูุฐุง ุนุงุฏุฉู
   - Mobile Wallet (ูุญุงูุธ ุงููุงุชู)
   - Valu (ุชูุณูุท)
   - Kiosk (ููุฑู)

3. **ููู ุทุฑููุฉ ุฏูุนุ ุณุชุฌุฏ ุฑูู Integration ID**
   - ูุซุงู: `81249` ุฃู `4123456`

4. ุงูุณุฎ ุฑูู Integration ID ููุทุฑููุฉ ุงูุชู ุชุฑูุฏูุง
   - ููุจุทุงูุงุช: ุนุงุฏุฉ `Online Card` ุฃู `MIGS`

---

### ุงูุฎุทูุฉ 4๏ธโฃ: ุงุญุตู ุนูู Iframe ID (ุงุฎุชูุงุฑู)

1. ุงุฐูุจ ุฅูู:
   ```
   Payment Integrations โ iFrames
   ```

2. ุงูุณุฎ ุฑูู ุงูู Iframe ID

**ููุงุญุธุฉ:** ูู ุฃุบูุจ ุงูุฃุญูุงูุ Iframe ID = Integration ID

---

### ุงูุฎุทูุฉ 5๏ธโฃ: ุชุญุฏูุซ ุงูููุงุชูุญ ูู ุงูุชุทุจูู

#### ุงูุทุฑููุฉ ุงูุฃููู: ุชุนุฏูู ููู api_config.dart

1. ุงูุชุญ ุงูููู:
   ```
   lib/core/config/api_config.dart
   ```

2. ุงุจุญุซ ุนู ุงูุณุทุฑ 94 ุชูุฑูุจูุง:
   ```dart
   static const String paymobApiKey = String.fromEnvironment(
     'PAYMOB_API_KEY',
     defaultValue: 'ZXlKaGJH...', // โ ุงุณุชุจุฏู ูุฐุง ุงูููุชุงุญ
   );
   ```

3. ุงุณุชุจุฏู ุงููููุฉ ูู `defaultValue` ุจุงูููุชุงุญ ุงูุฌุฏูุฏ:
   ```dart
   defaultValue: 'YOUR_NEW_API_KEY_HERE',
   ```

4. ูุฐูู ุญุฏูุซ Integration ID (ุงูุณุทุฑ 123):
   ```dart
   static const String paymobIntegrationId = String.fromEnvironment(
     'PAYMOB_INTEGRATION_ID',
     defaultValue: '81249', // โ ุถุน ุฑููู ููุง
   );
   ```

5. **ุงุญูุธ ุงูููู** (Ctrl+S)

---

### ุงูุฎุทูุฉ 6๏ธโฃ: ุฅุนุงุฏุฉ ุจูุงุก ุงูุชุทุจูู

```bash
# 1. ูุธูู ุงูู build ุงููุฏูู
flutter clean

# 2. ุงุญุตู ุนูู ุงูุญุฒู
flutter pub get

# 3. ุฃุนุฏ ุจูุงุก ุงูุชุทุจูู
flutter run
# ุฃู
flutter build apk
```

---

## ๐งช ุงุฎุชุจุฑ ุงูุขู!

1. ุงูุชุญ ุงูุชุทุจูู
2. ุงุฐูุจ ุฅูู **ุงูุงุดุชุฑุงูุงุช** โ **ุจุงูุฉ ุงูุฃูุฑุงุฏ**
3. ุงุถุบุท **ุงุดุชุฑู ุงูุขู**
4. ูุฌุจ ุฃู ุชูุชุญ ุตูุญุฉ ุงูุฏูุน ุจูุฌุงุญ! โ

---

## ๐ ุฅุฐุง ุงุณุชูุฑุช ุงููุดููุฉ

### ุชุดุฎูุต ุงููุดููุฉ:

ุงูุชุญ ููู:
```
lib/utils/paymob_diagnostic_test.dart
```

ุซู ุดุบูู:
```dart
await PaymobService().diagnosePaymobConnection();
```

ูุฐุง ุณูุทุจุน ุชูุฑูุฑ ููุตู ุนู ุงููุดููุฉ.

---

## ๐ ูุนูููุงุช ูููุฉ

### ูุซุงู ุนูู ุงูููู ุงูุตุญูุญุฉ:

```dart
// โ API Key (ูู Settings โ Account Info)
paymobApiKey: "ZXlKaGJHY2lPaUpJVXpVeE1pSXNJblI1Y0NJNklr..."

// โ Integration ID (ูู Payment Integrations)
paymobIntegrationId: "81249"

// โ Public Key (ูู Settings)
paymobPublicKey: "are_pk_live_SgS4VDIjkSDiJoPPrDx4Q3uQJjKgr37n"
```

### โ๏ธ ุงุญุฐุฑ ูู:

1. **ูุง ุชุฎูุท ุจูู:**
   - API Key (ูููุตุงุฏูุฉ) โ **ูุฐุง ุงููุทููุจ**
   - Public Key (ููุนููู)
   - Secret Key (ููุฎุงุฏู)

2. **ุชุฃูุฏ ูู ููุท ุงูุญุณุงุจ:**
   - Live Mode (ููุฅูุชุงุฌ) โ ุงุณุชุฎุฏู ูุฐุง
   - Test Mode (ููุงุฎุชุจุงุฑ)

   ุงูููุงุชูุญ ูุฎุชููุฉ ููู ููุท!

3. **ุชุฃูุฏ ูู ุชูุนูู Integration:**
   - ุจุนุถ ุทุฑู ุงูุฏูุน ุชุญุชุงุฌ ููุงููุฉ ูู Paymob
   - ุชุฃูุฏ ุฃู ุงูุญุงูุฉ: **Active** โ

---

## ๐ ุจุนุฏ ุงูุชุญุฏูุซ

ุจุนุฏ ุชุญุฏูุซ ุงูููุงุชูุญุ ูุฌุจ ุฃู ุชุนูู ุฌููุน ุนูููุงุช ุงูุฏูุน:

โ ุจุงูุฉ ุงูุฃูุฑุงุฏ
โ ุจุงูุฉ ุงููุญุชุฑููู
โ ุฌููุน ุทุฑู ุงูุฏูุน ุงูููุนููุฉ

---

## ๐ ูุตุงุฏุฑ ุฅุถุงููุฉ

- [Paymob Documentation](https://docs.paymob.com)
- [Paymob Portal](https://accept.paymob.com/portal2/en/login)
- [Integration Guide](https://docs.paymob.com/docs/accept-standard-checkout)

---

**ุชู ุฅุนุฏุงุฏ ูุฐุง ุงูุฏููู ูู:** 19 ููููุจุฑ 2025
**ุงูุญุงูุฉ:** โ ุฌุงูุฒ ููุชุทุจูู
