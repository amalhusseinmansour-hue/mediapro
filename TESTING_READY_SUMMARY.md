# โ ููุฎุต ุงูุชุญุถูุฑ ููุงุฎุชุจุงุฑ - ุฌุงูุฒ ููุชุดุบูู

## ๐ฏ ุงูุญุงูุฉ ุงูุญุงููุฉ

| ุงููููู | ุงูุญุงูุฉ | ุงูููุงุญุธุงุช |
|------|--------|---------|
| **API Key Paymob** | โ ูุญุฏูุซ | ุงูููุชุงุญ ุงูุฌุฏูุฏ ูุซุจุช |
| **CommunityPostService** | โ ูุตุญุญ | ุงุณุชุจุฏุงู `body` ุจู `data` |
| **ุงูุชุทุจูู** | โ ุฌุงูุฒ | ุฌููุน ุงูุญุฒู ูุญุฏุซุฉ |
| **ุงูุชุฌููุน** | โ๏ธ ุชุญุฐูุฑุงุช ููุท | ูุง ุฃุฎุทุงุก ุญุงุฏุฉ |
| **Database** | โ ูุชุตู | Remote Server ุฌุงูุฒ |

---

## ๐ ููุฎุต ุงูุชุบููุฑุงุช ุงููุทุจูุฉ

### 1. ุชุญุฏูุซ Paymob API Key โ
```
ุงูููู: lib/core/config/api_config.dart
ุงูุณุทุฑ: 96-100
ุงูุชุบููุฑ: ุงุณุชุจุฏุงู ุงูููุชุงุญ ุงููุฏูู ุจุงูููุชุงุญ ุงูุฌุฏูุฏ
ุงูุญุงูุฉ: ูุฌุญ โ
```

### 2. ุฅุตูุงุญ CommunityPostService โ
```
ุงูููู: lib/services/community_post_service.dart
ุงููุดููุฉ: ุงุณุชุฎุฏุงู 'body' ุจุฏูุงู ูู 'data'
ุงูุญู: ุงุณุชุจุฏุงู ุฌููุน ุงุณุชุฏุนุงุกุงุช post/put
ุงูุณุทูุฑ ุงููุตุญุญุฉ: 81 ู 134
ุงูุญุงูุฉ: ูุฌุญ โ
```

### 3. ุชุญุฏูุซ ุงูุญุฒู โ
```
ุงูุฃูุฑ: flutter pub get
ุงููุชูุฌุฉ: ุฌููุน ุงูุญุฒู ูุญุฏุซุฉ
ุงูุญุงูุฉ: ูุฌุญ โ
```

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ ููุงุฎุชุจุงุฑ

### ุฎุทูุฉ 1: ุงูุชุดุบูู ุงูุฃุณุงุณู
```bash
cd c:\Users\HP\social_media_manager
flutter clean
flutter run
```

**ุงููุชููุน**:
- โ ุงูุชุทุจูู ูุญูู ุจุฏูู ุฃุฎุทุงุก
- โ ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ ุชุธูุฑ
- โ ูุง ุชูุฌุฏ ุฃุฎุทุงุก ูู Console

### ุฎุทูุฉ 2: ุงูุชููู ุฅูู ุงูุงุดุชุฑุงูุงุช
```
1. ูู ุงูุดุงุดุฉ ุงูุฑุฆูุณูุฉ
2. ุงุฐูุจ ุฅูู ุงููุงุฆูุฉ ุงูุฌุงูุจูุฉ
3. ุงุฎุชุฑ "Subscriptions" / "ุงูุงุดุชุฑุงูุงุช"
4. ูุฌุจ ุฃู ุชุดุงูุฏ 3 ุฎุทุท ุจุฃุณุนุงุฑ ูุฎุชููุฉ
```

### ุฎุทูุฉ 3: ุงุฎุชุจุงุฑ ุนูููุฉ ุฏูุน
```
1. ุงุฎุชุฑ ุฎุทุฉ (ูุซู Silver: SAR 99)
2. ุงุถุบุท "ุงุดุชุฑู ุงูุขู"
3. ุงูุชุธุฑ ูุชุญ WebView ูู Paymob

ุงููุชููุน ูู Console:
โ Getting auth token...
โ Auth token received
โ Registering order...
โ Payment key generated
โ Opening payment page
```

### ุฎุทูุฉ 4: ุฅููุงู ุงูุฏูุน
```
ูู WebView:
- ููุก ุจูุงูุงุช ุงูุจุทุงูุฉ
- ุงูุถุบุท ุนูู "ุงูุฏูุน"

ุงููุชููุน:
โ ุงูุฏูุน ูุฌุญ
โ ุฑุณุงูุฉ ูุฌุงุญ ุชุธูุฑ
โ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุชูุญุฏูุซ
```

---

## ๐ ุนูุงูุงุช ุงููุฌุงุญ

### ูู Console:
```
โ Getting auth token...
โ Payment key generated
โ Order registered
โ Opening WebView
```

### ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
```sql
SELECT * FROM subscriptions 
WHERE user_id = X 
ORDER BY created_at DESC LIMIT 1;

-- ูุฌุจ ุฃู ุชุดุงูุฏ:
-- id | user_id | plan_id | status | created_at
```

### ูู Firebase Firestore:
```
users โ [USER_ID] โ subscription:
{
  "plan": "silver",
  "status": "active",
  "expiresAt": Timestamp,
  "renewalDate": Timestamp
}
```

---

## ๐ฏ ุฅุฐุง ุญุฏุซุช ูุดุงูู

| ุงููุดููุฉ | ุงูุณุจุจ | ุงูุญู |
|--------|-----|------|
| 403 Forbidden | API Key ุฎุงุทุฆ | ุชุญูู ูู api_config.dart |
| WebView ูุง ููุชุญ | ุฎุทุฃ ูู ุฌูู ุงูููุชุงุญ | ุชุญูู ูู Console logs |
| ุชุทุจูู ูุง ูุดุชุบู | ูุดููุฉ ูู ุชุฌููุน | `flutter clean && flutter pub get` |
| ุงูุจูุงูุงุช ูุง ุชุญูุธ | ูุดููุฉ ูู Callback | ุชุญูู ูู Backend logs |

---

## ๐ฑ ููุงุญุธุงุช ูููุฉ

- โ ุชู ุชุตุญูุญ ุฌููุน ุงูุฃุฎุทุงุก ุงูุญุงุฏุฉ
- โ API Key ูุญุฏุซ ููุฌุงูุฒ
- โ ุงูุชุทุจูู ุฌุงูุฒ ููุงุฎุชุจุงุฑ ุงููุนูู
- โ๏ธ ุงูุชุญุฐูุฑุงุช ุงููุชุจููุฉ (withOpacity) ูุง ุชุคุซุฑ ุนูู ุงูุฃุฏุงุก

---

## โจ ุงูุฎุทูุงุช ุจููุฎุต ุณุฑูุน

```bash
# 1. ุชูุธูู ูุชุญุฏูุซ
flutter clean
flutter pub get

# 2. ุงูุชุดุบูู
flutter run -v

# 3. ูู ุงูุชุทุจูู
# โ ุงูุงุดุชุฑุงูุงุช โ ุงุฎุชุฑ ุฎุทุฉ โ ุงุดุชุฑู โ ุฃููู ุงูุฏูุน

# 4. ุชุญูู ูู
# โ Firebase Firestore
# โ MySQL Database
# โ Console logs
```

---

**ุงูุญุงูุฉ**: ุฌุงูุฒ 100% โ  
**ุขุฎุฑ ุชุญุฏูุซ**: 19 ููููุจุฑ 2025 - 10:45 AM  
**ุงููุนูููุงุช ุงูุญุฑุฌุฉ**:
- API Key: ุชู ุงูุชุญุฏูุซ โ
- CommunityPostService: ูุตุญุญ โ
- ุงูุญุฒู: ูุญุฏุซุฉ โ
